<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Graveyard â€“ Owen Bahen</title>
<style>
/* --- Reset --- */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:"Trebuchet MS",sans-serif;
  background: linear-gradient(to top, #0a0a0a 20%, #1c1c2b 100%);
  color:#eee;
  overflow:hidden;
  height:100vh;
  position:relative;
}

/* --- Graveyard ground --- */
.ground {
  position:absolute;
  bottom:0;
  width:100%;
  height:130px;
  background: 
    radial-gradient(circle at 20% 30%, #0b3c0b 10px, transparent 11px),
    radial-gradient(circle at 70% 50%, #134213 12px, transparent 13px),
    repeating-linear-gradient(
      45deg,
      #0b2c0b,
      #0b2c0b 10px,
      #134213 10px,
      #134213 20px
    );
  background-size: 50px 50px, 50px 50px, 100% 100%;
  border-top:3px solid #333;
  z-index:2;
}

/* --- Gravestone --- */
.gravestone {
  position:absolute;
  bottom:140px;
  left:50%;
  transform:translateX(-50%);
  width:240px;
  height:180px;
  background:#444;
  border-radius:120px 120px 0 0;
  text-align:center;
  padding:1rem 0.5rem 0.5rem 0.5rem;
  color:#fff;
  font-size:0.9rem;
  box-shadow:0 -4px 12px rgba(0,0,0,0.8);
  z-index:3;
  background-image:
    linear-gradient(145deg, #555 0%, #444 50%, #555 100%),
    repeating-linear-gradient(
      45deg,
      rgba(255,255,255,0.08),
      rgba(255,255,255,0.08) 5px,
      rgba(0,0,0,0.05) 5px,
      rgba(0,0,0,0.05) 10px
    );
}
.gravestone h2 { font-size:1.2rem; margin-bottom:0.5rem; }

/* --- Score & Info --- */
.hud {
  position:absolute;
  top:10px;
  left:10px;
  display:flex;
  flex-direction:column;
  gap:0.5rem;
  z-index:5;
}
.score-box {
  background:#222;
  padding:0.5rem 1rem;
  border-radius:8px;
  border:1px solid #555;
}
button.info-btn {
  background:#333;
  color:#fff;
  border:none;
  padding:0.4rem 0.8rem;
  border-radius:5px;
  cursor:pointer;
}
button.info-btn:hover { background:#555; }

/* --- Info popup --- */
.info-popup {
  display:none;
  position:absolute;
  top:15%;
  left:50%;
  transform:translateX(-50%);
  background:#111;
  border:2px solid #555;
  border-radius:10px;
  padding:1rem;
  width:80%;
  max-width:400px;
  z-index:10;
  text-align:center;
}
.info-popup h3 { margin-bottom:0.5rem; }
.info-popup button {
  margin-top:1rem;
  padding:0.3rem 0.7rem;
}

/* --- Falling entities --- */
.entity {
  position:absolute;
  font-size:2rem;
  cursor:pointer;
  z-index:4;
  user-select:none;
}

/* Animations */
@keyframes float-down { 0% { transform:translateY(-50px); opacity:0; } 10% { opacity:1; } 100% { transform:translateY(100vh); opacity:0; } }
@keyframes float-up { 0% { transform:translateY(100vh); opacity:0; } 10% { opacity:1; } 100% { transform:translateY(-50px); opacity:0; } }
@keyframes zigzag { 0% { transform:translate(0,0); } 25% { transform:translate(-30px,25vh); } 50% { transform:translate(30px,50vh); } 75% { transform:translate(-20px,75vh); } 100% { transform:translate(0,100vh); } }
@keyframes quick-pop { 0% { transform:scale(0); opacity:0; } 20% { transform:scale(1.2); opacity:1; } 80% { transform:scale(1); opacity:1; } 100% { transform:scale(0); opacity:0; } }
@keyframes random-move { 0% { transform:translate(0,0); } 25% { transform:translate(30px,-20px); } 50% { transform:translate(-30px,30px); } 75% { transform:translate(20px,20px); } 100% { transform:translate(0,0); } }

/* --- Mobile adjustments --- */
@media(max-width:600px){
  .gravestone { width:200px; height:150px; font-size:0.75rem; bottom:120px; }
  .entity { font-size:1.8rem; }
}
</style>
</head>
<body>

<div class="hud">
  <div class="score-box">Score: <span id="score">0</span></div>
  <button class="info-btn" onclick="toggleInfo()">Info</button>
</div>

<div class="info-popup" id="infoPopup">
  <h3>ðŸ’€ Graveyard Game</h3>
  <p>Click spooky emojis to collect points.<br>
  ðŸ¦´ Bone = 1<br>ðŸ’€ Skull = 3<br>ðŸ§Ÿ Zombie = 5<br>ðŸ¦‡ Bat = 10<br>ðŸ§› Vampire = 25<br>ðŸ‘» Ghost = 1 (always present, moves randomly)<br>
  Unlock more as your score rises!</p>
  <button onclick="toggleInfo()">Close</button>
</div>

<div class="gravestone" id="gravestone">
  <h2>RIP Owen Bahen</h2>
  <p>1997 â€“ 2100<br>"3 Century Man"</p>
</div>

<div class="ground"></div>

<script>
let score = 0;
let spawnInterval = 2500;

/* Milestone Stories */
let stories = [
  `<h2>RIP Owen Bahen</h2><p>1997 â€“ 2100<br>"3 Century Man"</p>`,
  `<h2>Local Fame Revived</h2><p>The paper announced his return to the world.</p>`,
  `<h2>Bones Rattle Louder</h2><p>Whispers spread through the graveyard.</p>`,
  `<h2>The Dead Stirâ€¦</h2><p>A faint glow appears on the stone.</p>`,
  `<h2>Shadows Gather...</h2><p>Owen Bahen grows stronger in death than in life.</p>`,
  `<h2>Century Man Emerges</h2><p>From infancy to wisdom, a legend walks again.</p>`,
  `<h2>Life Remembered</h2><p>His deeds echo beyond the grave, inspiring mortals.</p>`,
  `<h2>Owen the Unbound</h2><p>Even death cannot contain his spirit.</p>`,
  `<h2>Immortal Legacy</h2><p>All who meet his story feel awe and wonder.</p>`
];

function updateGravestone(){
  const stone = document.getElementById("gravestone");
  let index = 0;
  if(score >= 200) index = 8;
  else if(score >= 100) index = 7;
  else if(score >= 50) index = 6;
  else if(score >= 25) index = 5;
  else if(score >= 10) index = 4;
  else if(score >= 3) index = 3;
  else if(score >= 1) index = 2;
  stone.innerHTML = stories[index];
}

/* Info toggle */
function toggleInfo(){
  const popup = document.getElementById("infoPopup");
  popup.style.display = popup.style.display === "block" ? "none" : "block";
}

/* Active ghosts array */
let ghosts = [];

/* Entity spawning logic */
function spawnEntity(){
  let entity = document.createElement("div");
  entity.className="entity";

  let type;
  // Determine type by score progression
  if(score<3) type="bone";
  else if(score<10) type=Math.random()<0.7?"bone":"skull";
  else if(score<25) type=Math.random()<0.6?"skull":"zombie";
  else if(score<50) type=Math.random()<0.5?"zombie":"bat";
  else type=["bat","vampire"][Math.floor(Math.random()*2)];

  // Occasionally spawn ghost
  if(Math.random()<0.1 || ghosts.length<3) type="ghost";

  let duration = 6000;
  if(type==="bone"){ entity.textContent="ðŸ¦´"; entity.style.animation=`float-down ${duration}ms linear forwards`; }
  if(type==="skull"){ entity.textContent="ðŸ’€"; entity.style.animation=`float-up ${duration}ms linear forwards`; }
  if(type==="zombie"){ entity.textContent="ðŸ§Ÿ"; entity.style.animation=`float-down ${duration+2000}ms linear forwards`; }
  if(type==="bat"){ entity.textContent="ðŸ¦‡"; entity.style.animation=`float-down ${duration-1000}ms linear forwards`; }
  if(type==="vampire"){ entity.textContent="ðŸ§›"; entity.style.animation=`quick-pop 2500ms linear forwards`; }
  if(type==="ghost"){ 
    entity.textContent="ðŸ‘»"; 
    entity.style.animation=`random-move ${4000+Math.random()*2000}ms infinite`; 
    ghosts.push(entity);
  }

  entity.style.left = Math.random()*80 + "%";
  entity.style.top = "0px";
  document.body.appendChild(entity);

  entity.addEventListener("click",()=>{
    let add=0;
    if(type==="bone") add=1;
    if(type==="skull") add=3;
    if(type==="zombie") add=5;
    if(type==="bat") add=10;
    if(type==="vampire") add=25;
    if(type==="ghost") add=1;
    score+=add;
    document.getElementById("score").textContent=score;
    updateGravestone();
    if(type==="ghost") ghosts = ghosts.filter(g=>g!==entity);
    entity.remove();
  });

  if(type!=="ghost") setTimeout(()=>{ entity.remove(); }, duration+3000);
}

/* Spawn loop */
setInterval(spawnEntity, spawnInterval);

/* Spawn rate adjustments */
function adjustSpawnRate(){
  if(score >= 10 && spawnInterval>2000) spawnInterval=2000;
  if(score >= 25 && spawnInterval>1500) spawnInterval=1500;
  if(score >= 50 && spawnInterval>1000) spawnInterval=1000;
  if(score >= 100 && spawnInterval>700) spawnInterval=700;
}
setInterval(adjustSpawnRate, 3000);

/* Initialize starting ghosts */
for(let i=0;i<3;i++) spawnEntity();
</script>
</body>
</html>
